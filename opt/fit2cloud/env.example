# =============================================================================
# Fit2Cloud 2.0 环境变量配置示例
# =============================================================================
# 
# 使用方法：
# 1. 复制此文件为 .env
# 2. 根据需要修改配置值
# 3. 运行安装脚本时会自动读取这些环境变量
#
# 示例：
#   cp env.example .env
#   # 编辑 .env 文件
#   bash install.sh
#
# 或者在命令行中直接设置：
#   MYSQL_HOST=192.168.1.100 bash install.sh
# =============================================================================

# =============================================================================
# 基础配置
# =============================================================================

# 安装目录
CE_INSTALL_PATH=/opt

# 静默安装模式 (true/false)
SILENT_MODE=true

# =============================================================================
# 镜像配置
# =============================================================================

# 镜像仓库地址
IMAGE_ADDRESS=registry.fit2cloud.com/north

# 平台架构 (amd64/arm64)
PLATFORM=amd64

# =============================================================================
# 端口配置
# =============================================================================

# Fit2Cloud 访问端口
CE_ACCESS_PORT=80

# =============================================================================
# MySQL 配置
# =============================================================================

# 是否外部 MySQL，如果配置成 true，下面的数据库配置需要配置成外部
CE_EXTERNAL_MYSQL=false

# 驱动
CE_MYSQL_DRIVER="com.mysql.cj.jdbc.Driver"

# 数据库地址
CE_MYSQL_HOST=mysql

# 数据库端口
CE_MYSQL_PORT=3306

# 数据库库名
CE_MYSQL_DB=fit2cloud

# 数据库用户名
CE_MYSQL_USER=root

# 数据库密码
CE_MYSQL_PASSWORD=U2FsdGVkX18JHB5ZNHZLFcHJT0XU7AxiNxC1FcV4tu+D8Bp2EswsCAqEMV4p58Lc

# 数据库参数
CE_MYSQL_PARAMS="autoReconnect=false&useUnicode=true&characterEncoding=UTF-8&characterSetResults=UTF-8&zeroDateTimeBehavior=CONVERT_TO_NULL&useSSL=false&nullCatalogMeansCurrent=true"

# KeyCloak 数据库库名
CE_KEYCLOAK_DB=keycloak

# KeyCloak 数据库参数
CE_KEYCLOAK_PARAMS="autoReconnect=false&useUnicode=true&characterEncoding=UTF-8&characterSetResults=UTF-8&zeroDateTimeBehavior=CONVERT_TO_NULL&useSSL=false"

# Activiti Optional DB configs
# 数据库库名
CE_ACTIVITI_DB=activiti

# 数据库参数
CE_ACTIVITI_PARAMS="autoReconnect=false&useUnicode=true&characterEncoding=UTF-8&characterSetResults=UTF-8&zeroDateTimeBehavior=CONVERT_TO_NULL&useSSL=false"


# =============================================================================
# Redis 配置
# =============================================================================

# 是否外部 Redis，如果配置成 true，下面的配置需要配置成外部
CE_EXTERNAL_REDIS=false

# Redis 模式，single, cluster, sentinel
CE_REDIS_MODE=single

# Redis 主机地址 single, cluster, sentinel
CE_REDIS_HOST=redis

# Redis 端口 single
CE_REDIS_PORT=6379

# Redis 密码 single, cluster, sentinel
CE_REDIS_PASSWORD=U2FsdGVkX18FExvjGK16G7Bu9tnwwjtgsx/BlVMPww/YjouBKeBkhSFzuADH3Vyd

# Redis 库 single, sentinel
CE_REDIS_DATABASE=0

# Redis sentinel
CE_REDIS_MASTER=mymaster


# =============================================================================
# InfluxDB 配置
# =============================================================================

# 是否外部 InfluxDB，如果配置成 true，下面的配置需要配置成外部
CE_EXTERNAL_INFLUXDB=false

# InfluxDB 主机名
CE_INFLUXDB_URL=http://influxdb:8086

# InfluxDB 用户
CE_INFLUXDB_USER=fit2cloud

# InfluxDB 密码
CE_INFLUXDB_PASSWORD=U2FsdGVkX18Au7ObDKEQdG05o3VEvYDPFrCsI1ZEsCB/dN4T8J8Bc3qdr61z8bhO

# InfluxDB 库
CE_INFLUXDB_DATABASE=fit2cloud

# InfluxDB 日志库
CE_INFLUXDB_LOG_DATABASE=log_fit2cloud

# =============================================================================
# KeyCloak 配置
# =============================================================================

# 是否外部 KeyCloak，如果配置成 true，下面的配置需要配置成外部
CE_EXTERNAL_KEYCLOAK=false

# Keycloak 地址
CE_KEYCLOAK_URL=http://keycloak:8080/auth

# =============================================================================
# RabbitMQ 配置
# =============================================================================

# 是否外部 RabbitMQ，如果配置成 true， 下面的配置需要配置成外部
CE_EXTERNAL_MQ=false

# MQ 模式 single,cluster
CE_RABBITMQ_MODE=single

# RabbitMQ 主机名 single, cluster
CE_RABBITMQ_HOST=rabbitmq

# RabbitMQ 端口 single
CE_RABBITMQ_PORT=5672

# RabbitMQ 用户
CE_RABBITMQ_USER=fit2cloud

# RabbitMQ 密码
CE_RABBITMQ_PASSWORD=U2FsdGVkX19BmEFPkpUJa4knZvJtTdIbcw/JbPnhOts41JQBYxeP7JghLL9CI2nu

# =============================================================================
# Ansible 配置
# =============================================================================

# 是否外部 Ansible，如果配置成 true， 下面的配置需要配置成外部
CE_EXTERNAL_ANSIBLE=false

# Ansible 主机名
CE_ANSIBLE_HOST=http://ansible:8000

# Ansible 端口
CE_RABBITMQ_PORT=5672

# Ansible 用户
CE_ANSIBLE_USER=root

# Ansible 密码
CE_ANSIBLE_PASSWORD="U2FsdGVkX18lR+gfF3z0nHeV7F7yKwWDBep3f1CvlA0="

# =============================================================================
# 外部 MinIO 配置
# =============================================================================

# 是否外部 MinIO，如果配置成 true， 下面的配置需要配置成外部
CE_EXTERNAL_MINIO=false

# MinIO 端点
CE_MINIO_ENDPOINT=

# MinIO Access Key
CE_MINIO_ACCESS_KEY=

# MinIO Secret Key
CE_MINIO_SECRET_KEY=

# MinIO Secret Key
CE_MINIO_DEFAULT_BUCKET=

# =============================================================================
# 安装选项
# =============================================================================

# 是否安装 MinIO (true/false)
INSTALL_MINIO=true

# 是否安装 Nginx (true/false)
INSTALL_NGINX=false

# 是否安装 Telegraf (true/false)
INSTALL_TELEGRAF=true

# =============================================================================
# 打包配置 (仅用于 package.sh)
# =============================================================================

# 包名称
PACKAGE_NAME=fit2cloud2.0-installer

# 输出目录
OUTPUT_DIR=./output

# OSS Access Key
OSS_ACCESS_KEY=

# OSS Secret Key
OSS_SECRET_KEY=

# 部署包列表 (逗号分隔)
DEPLOYMENT_PACKAGES=

# 插件包列表 (逗号分隔)
PLUGIN_PACKAGES=

# 扩展包列表 (逗号分隔)
EXTENSION_PACKAGES=

# =============================================================================
# 高级配置
# =============================================================================

# Docker 存储目录
DOCKER_DATA_ROOT=/opt/fit2cloud/docker

# Docker 日志配置
DOCKER_LOG_MAX_SIZE=10m
DOCKER_LOG_MAX_FILE=3

# 防火墙配置
FIREWALL_ENABLED=true

# 系统服务配置
SYSTEMD_ENABLED=true

# =============================================================================
# 网络配置
# =============================================================================

# 网络模式 (bridge/host)
NETWORK_MODE=bridge

# 自定义网络名称
NETWORK_NAME=cmp-network

# 子网配置
SUBNET=172.20.0.0/16

# =============================================================================
# 存储配置
# =============================================================================

# 数据目录
DATA_DIR=/opt/fit2cloud/data

# 日志目录
LOG_DIR=/opt/fit2cloud/logs

# 配置目录
CONF_DIR=/opt/fit2cloud/conf

# =============================================================================
# 安全配置
# =============================================================================

# 默认管理员用户名
ADMIN_USERNAME=admin

# 默认管理员密码
ADMIN_PASSWORD=Password123@cmp

# JWT 密钥
JWT_SECRET=your-jwt-secret-key

# 会话超时时间 (秒)
SESSION_TIMEOUT=3600

# =============================================================================
# 日志配置
# =============================================================================

# 日志级别 (DEBUG/INFO/WARN/ERROR)
LOG_LEVEL=INFO

# 日志格式 (json/text)
LOG_FORMAT=text

# 日志轮转大小
LOG_MAX_SIZE=100MB

# 日志保留天数
CE_LOGGER_RETENTION_DAYS=30

# =============================================================================
# 性能配置
# =============================================================================

# JVM 堆内存大小
JVM_HEAP_SIZE=2g

# JVM 最大堆内存
JVM_MAX_HEAP_SIZE=4g

# 数据库连接池大小
DB_POOL_SIZE=20

# Redis 连接池大小
REDIS_POOL_SIZE=10

# =============================================================================
# 备份配置
# =============================================================================

# 自动备份 (true/false)
AUTO_BACKUP=true

# 备份目录
BACKUP_DIR=/opt/fit2cloud/backup

# 备份保留天数
BACKUP_RETENTION_DAYS=7

# 备份时间 (cron 格式)
BACKUP_SCHEDULE="0 2 * * *"

# =============================================================================
# 示例配置
# =============================================================================

# 使用外部 MySQL 和 Redis 的示例：
# MYSQL_HOST=192.168.1.100
# MYSQL_PASSWORD=mypass123
# REDIS_HOST=192.168.1.101
# REDIS_PASSWORD=redispass

# 使用外部 MinIO 的示例：
# MINIO_ENDPOINT=http://192.168.1.102:9000
# MINIO_ACCESS_KEY=your-access-key
# MINIO_SECRET_KEY=your-secret-key

# 自定义端口的示例：
# CE_ACCESS_PORT=8080
# MINIO_PORT=9002
# NGINX_PORT=8081

# 静默安装示例：
# SILENT_MODE=true
# INSTALL_MINIO=false
# INSTALL_TELEGRAF=false 